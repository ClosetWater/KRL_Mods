Def TryMagicAttack(DamageType , TrainingType, AreaSize, TrueOrNot, aremessage, ismessage )
  TryNoFriendlyFire(
    {
      CreatureMessage {aremessage ismessage}
	  SetCreatureFlag "frienldlyfire" TrueOrNot
	  Filter CreatureFlag "frienldlyfire" {
		Area AreaSize {Damage DamageType TrainingType}
	  } 
	  Filter Not CreatureFlag "frienldlyfire"
	  {
		Filter Enemy { Area AreaSize {Damage DamageType TrainingType}}
	  } 
    },
    CreatureMessage {aremessage ismessage}
  )
End

"elemental_storm_bolt"
    {
    symbol = "‚•á"
    effect = MinDistanceFromStrongEnemy(2) Name "lightning bolt" Description "Shoots a lightning bolt"
        TryMagicAttack(LIGHTNING_DAMAGE, SPELL, 0, true, "are hit by the bolt", "is hit by the bolt")
    fx = {MAGIC_MISSILE}
    range = 12
    cooldown = {4}
    sound = SPELL_BLAST
    }


# lightning spells
"lightning bolt"
    {
    symbol = "‚•á"
    effect = MinDistanceFromStrongEnemy(2) Name "lightning bolt" Description "Shoots a lightning bolt"
    Chain {
        { Caster Lasting 0 "LIGHTNING_SPELL"}
        TryMagicAttack(SPELL_DAMAGE, SPELL, 0, true, "are hit by the bolt", "is hit by the bolt")}
    fx = {MAGIC_MISSILE}
    range = 4
    cooldown = {2 16}
    sound = SPELL_BLAST
    }
"advanced lightning bolt"
    {
    upgrade = "lightning bolt"
    symbol = "‚•á"
    effect = MinDistanceFromStrongEnemy(2) Name "lightning bolt" Description "Shoots a lightning bolt"
        TryMagicAttack(SPELL_DAMAGE, SPELL, 0, true, "are hit by the bolt", "is hit by the bolt")
    fx = {MAGIC_MISSILE}
    range = 8
    cooldown = {2 16}
    sound = SPELL_BLAST
    }
"expert lightning bolt"
    {
    upgrade = "advanced lightning bolt"
    symbol = "‚•á"
    effect = MinDistanceFromStrongEnemy(2) Name "lightning bolt" Description "Shoots a lightning bolt"
        TryMagicAttack(SPELL_DAMAGE, SPELL, 0, true, "are hit by the bolt", "is hit by the bolt")
    fx = {MAGIC_MISSILE}
    range = 12
    cooldown = {2 16}
    sound = SPELL_BLAST
    }
"lightning charge"
    {
    symbol = "‚•á"
    effect = Lasting 30 LIGHTING_DISCHARGE
    cooldown = {50 101}
    targetSelf = true
    range = 6
    sound = SPELL_CURE_POISON
    }
"lightning resistance"
    {
    symbol = "üõ°"
    effect = Name "lightning resistance" Lasting 40 LIGHTNING_RESISTANT
    cooldown = {50 101}
    sound = SPELL_CURE_POISON
    }
"advanced lightning resistance"
    {
    upgrade = "lightning resistance"
    symbol = "üõ°"
    effect = Name "lightning resistance" Lasting 40 LIGHTNING_RESISTANT
    cooldown = {50 101}
    targetSelf = true
    range = 1
    sound = SPELL_CURE_POISON
    }
"mass lightning resistance"
    {
    upgrade = "advanced lightning resistance"
    symbol = "üõ°"
    effect = Name "lightning resistance" Area 10 Filter Not Enemy Lasting 40 LIGHTNING_RESISTANT
    cooldown = {50 101}
    targetSelf = true
    range = 1
    sound = SPELL_CURE_POISON
    }
"lightning damage"
    {
    symbol = "üí™"
    effect = Name "lightning damage" Lasting 40 LIGHTNING_DAMAGE
    cooldown = {30 81}
    sound = SPELL_STR_BONUS
    }
"advanced lightning damage"
    {
    upgrade = "lightning damage"
    symbol = "üí™"
    effect = Name "lightning damage" Lasting 40 LIGHTNING_DAMAGE
    targetSelf = true
    range = 1
    cooldown = {30 81}
    sound = SPELL_STR_BONUS
    }
"mass lightning damage"
    {
    upgrade = "advanced lightning damage"
    symbol = "üí™"
    effect = Name "mass lightning damage" Area 10 Filter Not Enemy Lasting 40 LIGHTNING_DAMAGE
    cooldown = {30 81}
    sound = SPELL_STR_BONUS
    }
OneTimeAbility("lightning resistance self", "Becomes resistant to lightning.", Permanent LIGHTNING_RESISTANT, "üéØ")


# fire spells
"fire bolt"
    {
    symbol = "‚•á"
    effect = MinDistanceFromStrongEnemy(2) Name "fire ball" Description "Shoots a fire ball"
    Chain {
        { Caster Lasting 0 "FIRE_SPELL"}
        TryMagicAttack(SPELL_DAMAGE, SPELL, 0, true, "are hit by the ball", "is hit by the ball")
        Filter Enemy { Fire {}}}
    fx = {MAGIC_MISSILE}
    range = 2
    cooldown = {5 21}
    sound = SPELL_BLAST
    }
"advanced fire bolt"
    {
    upgrade = "fire bolt"
    symbol = "‚•á"
    effect = MinDistanceFromStrongEnemy(2) Name "fire ball" Description "Shoots a fire ball"
    Chain {
        { Caster Lasting 0 "FIRE_SPELL"}
        TryMagicAttack(SPELL_DAMAGE, SPELL, 1, true, "are hit by the ball", "is hit by the ball")
        Filter Enemy { Fire {}}}
    fx = {MAGIC_MISSILE}
    range = 4
    cooldown = {5 21}
    sound = SPELL_BLAST
    }
"expert fire bolt"
    {
    upgrade = "advanced fire bolt"
    symbol = "‚•á"
    effect = MinDistanceFromStrongEnemy(2) Name "fire ball" Description "Shoots a fire ball"
    Chain {
        { Caster Lasting 0 "FIRE_SPELL"}
        TryMagicAttack(SPELL_DAMAGE, SPELL, 2, true, "are hit by the ball", "is hit by the ball")
        Filter Enemy { Fire {}}}
    fx = {MAGIC_MISSILE}
    range = 8
    cooldown = {5 21}
    sound = SPELL_BLAST
    }
"fire resistance"
    {
    symbol = "üõ°"
    effect = Name "fire resistance" Lasting 40 FIRE_RESISTANT
    cooldown = {50 101}
    sound = SPELL_CURE_POISON
    }
"advanced fire resistance"
    {
    upgrade = "fire resistance"
    symbol = "üõ°"
    effect = Name "fire resistance" Lasting 40 FIRE_RESISTANT
    cooldown = {50 101}
    targetSelf = true
    range = 1
    sound = SPELL_CURE_POISON
    }
"mass fire resistance"
    {
    upgrade = "advanced fire resistance"
    symbol = "üõ°"
    effect = Name "fire resistance" Area 10 Filter Not Enemy Lasting 40 FIRE_RESISTANT
    cooldown = {50 101}
    targetSelf = true
    range = 1
    sound = SPELL_CURE_POISON
    }
"fire damage"
    {
    symbol = "üí™"
    effect = Name "fire damage" Lasting 40 FIRE_DAMAGE
    cooldown = {30 81}
    sound = SPELL_STR_BONUS
    }
"advanced fire damage"
    {
    upgrade = "fire damage"
    symbol = "üí™"
    effect = Name "fire damage" Lasting 40 FIRE_DAMAGE
    targetSelf = true
    range = 1
    cooldown = {30 81}
    sound = SPELL_STR_BONUS
    }
"mass fire damage"
    {
    upgrade = "advanced fire damage"
    symbol = "üí™"
    effect = Name "mass fire damage" Area 10 Filter Not Enemy Lasting 40 FIRE_DAMAGE
    cooldown = {30 81}
    sound = SPELL_STR_BONUS
    }
OneTimeAbility("fire resistance self", "Becomes resistant to fire.", Permanent FIRE_RESISTANT, "üéØ")


# ice spells
"ice bolt"
    {
    symbol = "‚•á"
    effect = MinDistanceFromStrongEnemy(2) Name "ice shard" Description "Shoots a ice shard"
    Chain {
        { Caster Lasting 0 "COLD_DAMAGE"}
        TryMagicAttack(SPELL_DAMAGE, SPELL, 0, true, "are hit by the shard", "is hit by the shard")
        Filter Enemy { Ice {}}}
    fx = {MAGIC_MISSILE}
    range = 4
    cooldown = {5 21}
    sound = SPELL_BLAST
    }
"advanced ice bolt"
    {
    upgrade = "ice bolt"
    symbol = "‚•á"
    effect = MinDistanceFromStrongEnemy(2) Name "ice shard" Description "Shoots a ice shard"
    Chain {
        { Caster Lasting 0 "COLD_DAMAGE"}
        TryMagicAttack(SPELL_DAMAGE, SPELL, 0, true, "are hit by the shard", "is hit by the shard")
        Filter Enemy { Ice {}}}
    fx = {MAGIC_MISSILE}
    range = 8
    cooldown = {5 21}
    sound = SPELL_BLAST
    }
"expert ice bolt"
    {
    upgrade = "advanced ice bolt"
    symbol = "‚•á"
    effect = MinDistanceFromStrongEnemy(2) Name "ice shard" Description "Shoots a ice shard"
    Chain {
        { Caster Lasting 0 "COLD_DAMAGE"}
        TryMagicAttack(SPELL_DAMAGE, SPELL, 0, true, "are hit by the shard", "is hit by the shard")
        Filter Enemy { Ice {}}}
    fx = {MAGIC_MISSILE}
    range = 12
    cooldown = {5 21}
    sound = SPELL_BLAST
    }
"ice resistance"
    {
    symbol = "üõ°"
    effect = Name "ice resistance" Lasting 40 COLD_RESISTANT
    cooldown = {50 101}
    sound = SPELL_CURE_POISON
    }
"advanced ice resistance"
    {
    upgrade = "ice resistance"
    symbol = "üõ°"
    effect = Name "ice resistance" Lasting 40 COLD_RESISTANT
    cooldown = {50 101}
    targetSelf = true
    range = 1
    sound = SPELL_CURE_POISON
    }
"mass ice resistance"
    {
    upgrade = "advanced ice resistance"
    symbol = "üõ°"
    effect = Name "ice resistance" Area 10 Filter Not Enemy Lasting 40 COLD_RESISTANT
    cooldown = {50 101}
    targetSelf = true
    range = 1
    sound = SPELL_CURE_POISON
    }
"ice damage"
    {
    symbol = "üí™"
    effect = Name "ice damage" Lasting 40 COLD_DAMAGE
    cooldown = {30 81}
    sound = SPELL_STR_BONUS
    }
"advanced ice damage"
    {
    upgrade = "ice damage"
    symbol = "üí™"
    effect = Name "ice damage" Lasting 40 COLD_DAMAGE
    targetSelf = true
    range = 1
    cooldown = {30 81}
    sound = SPELL_STR_BONUS
    }
"mass ice damage"
    {
    upgrade = "advanced ice damage"
    symbol = "üí™"
    effect = Name "mass ice damage" Area 10 Filter Not Enemy Lasting 40 COLD_DAMAGE
    cooldown = {30 81}
    sound = SPELL_STR_BONUS
    }
OneTimeAbility("cold resistance self", "Becomes resistant to cold.", Permanent COLD_RESISTANT, "üéØ")


# shadow spells
"shadow bolt"
    {
    symbol = "‚•á"
    effect = MinDistanceFromStrongEnemy(2) Name "Invoke Shadow" Description "invokes shadow in form of ray"
    Chain {
        { Caster Lasting 0 "SHADOW_SPELL"}
        TryMagicAttack(SPELL_DAMAGE, SPELL, 0, true, "are hit by the ray", "is hit by the ray")
        Filter Enemy { Lasting 5 PANIC }}
    fx = {FLAMETHROWER ColorId BLACK}
    range = 4
    cooldown = {5 21}
    sound = SPELL_BLAST
    }
"advanced shadow bolt"
    {
    upgrade = "shadow bolt"
    symbol = "‚•á"
    effect = MinDistanceFromStrongEnemy(2) Name "Invoke Shadow" Description "invokes shadow in form of ray"
    Chain {
        { Caster Lasting 0 "SHADOW_SPELL"}
        TryMagicAttack(SPELL_DAMAGE, SPELL, 0, true, "are hit by the ray", "is hit by the ray")
        Filter Enemy { Lasting 5 PANIC }}
    fx = {FLAMETHROWER ColorId BLACK}
    range = 8
    cooldown = {5 21}
    sound = SPELL_BLAST
    }
"expert shadow bolt"
    {
    upgrade = "advanced shadow bolt"
    symbol = "‚•á"
    effect = MinDistanceFromStrongEnemy(2) Name "invoke Shadow" Description "invokes shadow in form of ray"
    Chain {
        { Caster Lasting 0 "SHADOW_SPELL"}
        TryMagicAttack(SPELL_DAMAGE, SPELL, 0, true, "are hit by the ray", "is hit by the ray")
        Filter Enemy { Lasting 5 PANIC }}
    fx = {FLAMETHROWER ColorId BLACK}
    range = 10
    cooldown = {5 21}
    sound = SPELL_BLAST
    }
"shadow resistance"
    {
    symbol = "üõ°"
    effect = Name "shadow resistance" Lasting 40 SHADOW_RESISTANT
    cooldown = {50 101}
    sound = SPELL_CURE_POISON
    }
"advanced shadow resistance"
    {
    upgrade = "shadow resistance"
    symbol = "üõ°"
    effect = Name "shadow resistance" Lasting 40 SHADOW_RESISTANT
    cooldown = {50 101}
    targetSelf = true
    range = 1
    sound = SPELL_CURE_POISON
    }
"mass shadow resistance"
    {
    upgrade = "advanced shadow resistance"
    symbol = "üõ°"
    effect = Name "shadow resistance" Area 10 Filter Not Enemy Lasting 40 SHADOW_RESISTANT
    cooldown = {50 101}
    targetSelf = true
    range = 1
    sound = SPELL_CURE_POISON
    }
"shadow damage"
    {
    symbol = "üí™"
    effect = Name "shadow damage" Lasting 40 SHADOW_DAMAGE
    cooldown = {30 81}
    sound = SPELL_STR_BONUS
    }
"advanced shadow damage"
    {
    upgrade = "shadow damage"
    symbol = "üí™"
    effect = Name "shadow damage" Lasting 40 SHADOW_DAMAGE
    targetSelf = true
    range = 1
    cooldown = {30 81}
    sound = SPELL_STR_BONUS
    }
"mass shadow damage"
    {
    upgrade = "advanced shadow damage"
    symbol = "üí™"
    effect = Name "mass shadow damage" Area 10 Filter Not Enemy Lasting 40 SHADOW_DAMAGE
    cooldown = {30 81}
    sound = SPELL_STR_BONUS
    }
"shadow shere"
    {
    symbol = "üå´"
    effect = Name "night sphere" Description "Creates a sphere of life sapping shadow." Area 4 Filter DistanceD none 3.2 EmitGas "SHADOW_GAS" 1
    range = 8
    cooldown = {30 61}
    }
OneTimeAbility("shadow resistance self", "Becomes resistant to shadow.", Permanent SHADOW_RESISTANT, "üéØ")


# light spells
"light bolt"
    {
    symbol = "‚•á"
    effect = MinDistanceFromStrongEnemy(2) Name "Invoke light" Description "invokes light in form of ray"
    Chain {
        { Caster Lasting 0 "LIGHT_SPELL"}
        TryMagicAttack(SPELL_DAMAGE, SPELL, 0, true, "are hit by the ray", "is hit by the ray")
        Filter Enemy { Lasting 5 BLIND }}
    fx = {FLAMETHROWER ColorId WHITE}
    range = 4
    cooldown = {5 21}
    sound = SPELL_BLAST
    }
"advanced light bolt"
    {
    upgrade = "light bolt"
    symbol = "‚•á"
    effect = MinDistanceFromStrongEnemy(2) Name "Invoke light" Description "invokes light in form of ray"
    Chain {
        { Caster Lasting 0 "LIGHT_SPELL"}
        TryMagicAttack(SPELL_DAMAGE, SPELL, 0, true, "are hit by the ray", "is hit by the ray")
        Filter Enemy { Lasting 5 BLIND }}
    fx = {FLAMETHROWER ColorId WHITE}
    range = 8
    cooldown = {5 21}
    sound = SPELL_BLAST
    }
"expert light bolt"
    {
    upgrade = "advanced light bolt"
    symbol = "‚•á"
    effect = MinDistanceFromStrongEnemy(2) Name "invoke light" Description "invokes light in form of ray"
    Chain {
        { Caster Lasting 0 "LIGHT_SPELL"}
        TryMagicAttack(SPELL_DAMAGE, SPELL, 0, true, "are hit by the ray", "is hit by the ray")
        Filter Enemy { Lasting 5 BLIND }}
    fx = {FLAMETHROWER ColorId WHITE}
    range = 10
    cooldown = {5 21}
    sound = SPELL_BLAST
    }
"light resistance"
    {
    symbol = "üõ°"
    effect = Name "light resistance" Lasting 40 LIGHT_RESISTANT
    cooldown = {50 101}
    sound = SPELL_CURE_POISON
    }
"advanced light resistance"
    {
    upgrade = "light resistance"
    symbol = "üõ°"
    effect = Name "light resistance" Lasting 40 LIGHT_RESISTANT
    cooldown = {50 101}
    targetSelf = true
    range = 1
    sound = SPELL_CURE_POISON
    }
"mass light resistance"
    {
    upgrade = "advanced light resistance"
    symbol = "üõ°"
    effect = Name "light resistance" Area 10 Filter Not Enemy Lasting 40 LIGHT_RESISTANT
    cooldown = {50 101}
    targetSelf = true
    range = 1
    sound = SPELL_CURE_POISON
    }
"light damage"
    {
    symbol = "üí™"
    effect = Name "light damage" Lasting 40 LIGHT_DAMAGE
    cooldown = {30 81}
    sound = SPELL_STR_BONUS
    }
"advanced light damage"
    {
    upgrade = "light damage"
    symbol = "üí™"
    effect = Name "light damage" Lasting 40 LIGHT_DAMAGE
    targetSelf = true
    range = 1
    cooldown = {30 81}
    sound = SPELL_STR_BONUS
    }
"mass light damage"
    {
    upgrade = "advanced light damage"
    symbol = "üí™"
    effect = Name "mass light damage" Area 10 Filter Not Enemy Lasting 40 LIGHT_DAMAGE
    cooldown = {30 81}
    sound = SPELL_STR_BONUS
    }
OneTimeAbility("light resistance self", "Becomes resistant to light.", Permanent LIGHT_RESISTANT, "üéØ")


# earth spells
"rock bolt"
    {
    symbol = "‚•á"
    effect = MinDistanceFromStrongEnemy(2) Name "throw rock" Description "conjures and flying rock to hit the enemy"
    Chain {
        { Caster Lasting 0 "DAMAGE_SPELL"}
        { Caster Lasting 0 "EARTHPOWER"}
        TryMagicAttack(SPELL_DAMAGE, SPELL, 0, true, "are hit by the boulder", "is hit by the boulder")}
    fx = {MAGIC_MISSILE}
    range = 4
    cooldown = {5 21}
    sound = SPELL_BLAST
    }
"advanced rock bolt"
    {
    upgrade = "rock bolt"
    symbol = "‚•á"
    effect = MinDistanceFromStrongEnemy(2) Name "throw rock" Description "conjures and flying rock to hit the enemy"
    Chain {
        { Caster Lasting 0 "DAMAGE_SPELL"}
        { Caster Lasting 0 "EARTHPOWER"}
        TryMagicAttack(SPELL_DAMAGE, SPELL, 0, true, "are hit by the boulder", "is hit by the boulder")}
    fx = {MAGIC_MISSILE}
    range = 8
    cooldown = {5 21}
    sound = SPELL_BLAST
    }
"expert rock bolt"
    {
  upgrade = "advanced rock bolt"
  symbol = "‚•á"
  effect = MinDistanceFromStrongEnemy(2) Name "throw rock" Description "conjures and flying rock to hit the enemy"
  Chain {
	  { Caster Lasting 0 "DAMAGE_SPELL"}
	  { Caster Lasting 0 "EARTHPOWER"}
      TryMagicAttack(SPELL_DAMAGE, SPELL, 0, true, "are hit by the boulder", "is hit by the boulder")}
  fx = {MAGIC_MISSILE}
  range = 12
  cooldown = {5 21}
  sound = SPELL_BLAST
    }
"rock resistance"
    {
    symbol = "üõ°"
    effect = Name "stoneskin" Lasting 40 STONESKIN
    cooldown = {50 101}
    sound = SPELL_CURE_POISON
    }
"advanced rock resistance"
    {
    upgrade = "rock resistance"
    symbol = "üõ°"
    effect = Name "stoneskin" Lasting 40 STONESKIN
    cooldown = {50 101}
    targetSelf = true
    range = 1
    sound = SPELL_CURE_POISON
    }
"mass rock resistance"
    {
    upgrade = "advanced rock resistance"
    symbol = "üõ°"
    effect = Name "stoneskin" Area 10 Filter Not Enemy Lasting 40 STONESKIN
    cooldown = {50 101}
    targetSelf = true
    range = 1
    sound = SPELL_CURE_POISON
    }
"rock dig"
    {
    symbol = "X"
    effect = Name "dig" DestroyWalls DIG
    range = 1
    cooldown = {10 41}
    blockedByWall = false
    }
"advanced rock dig"
    {
    upgrade = "rock dig"
    symbol = "X"
    effect = Name "dig" DestroyWalls DIG
    range = 2
    cooldown = {10 41}
    blockedByWall = false
    }
"expert rock dig"
    {
    upgrade = "advanced rock dig"
    symbol = "X"
    effect = Name "dig" Area 1 DestroyWalls DIG
    range = 2
    cooldown = {10 41}
    blockedByWall = false
    }
"rock summon mountain"
    {
    symbol = "ùçî"
    effect =  Name "summon mountain" CustomArea PlaceFurniture "MOUNTAIN" { {0 -2} {0 -1} {0 0} {0 1} {0 2} }
    endOnly = true
    range = 2
    cooldown = {15 31}
    sound = SPELL_BLAST
    }
"advanced rock summon mountain"
    {
    upgrade = "rock summon mountain"
    symbol = "ùçî"
    effect =  Name "summon mountain" CustomArea PlaceFurniture "MOUNTAIN2" { {0 -2} {0 -1} {0 0} {0 1} {0 2} }
    endOnly = true
    range = 2
    cooldown = {15 31}
    sound = SPELL_BLAST
    }


# water spells
"water bolt"
    {
    symbol = "‚•á"
    effect = Name "water whip" Description "conjures a steam of water and uses it like whip on the enemy"
    Chain {
        { Caster Lasting 0 "DAMAGE_SPELL"}
        TryMagicAttack(SPELL_DAMAGE, SPELL, 0, true, "are hit by the whip", "is hit by the whip")}
    fx = {MAGIC_MISSILE}
    range = 2
    cooldown = {0 10}
    sound = SPELL_BLAST
    }
"advanced water bolt"
    {
    upgrade = "water bolt"
    symbol = "‚•á"
    effect = Name "water whip" Description "conjures a steam of water and uses it like whip on the enemy"
    Chain {
        { Caster Lasting 0 "DAMAGE_SPELL"}
        TryMagicAttack(SPELL_DAMAGE, SPELL, 0, true, "are hit by the whip", "is hit by the whip")}
    fx = {MAGIC_MISSILE}
    range = 4
    cooldown = {0 10}
    sound = SPELL_BLAST
    }
"expert water bolt"
    {
    upgrade = "advanced water bolt"
    symbol = "‚•á"
    effect = Name "water whip" Description "conjures a steam of water and uses it like whip on the enemy"
    Chain {
        { Caster Lasting 0 "DAMAGE_SPELL"}
        TryMagicAttack(SPELL_DAMAGE, SPELL, 0, true, "are hit by the whip", "is hit by the whip")}
    fx = {MAGIC_MISSILE}
    range = 6
    cooldown = {0 10}
    sound = SPELL_BLAST
    }
"water resistance"
    {
    symbol = "üõ°"
    effect = Name "water breathing" Lasting 40 SWIMMING_SKILL
    cooldown = {50 101}
    sound = SPELL_CURE_POISON
    }
"advanced water resistance"
    {
    upgrade = "water resistance"
    symbol = "üõ°"
    effect = Name "water breathing" Lasting 40 SWIMMING_SKILL
    cooldown = {50 101}
    targetSelf = true
    range = 1
    sound = SPELL_CURE_POISON
    }
"mass water resistance"
    {
    upgrade = "advanced water resistance"
    symbol = "üõ°"
    effect = Name "water breathing" Area 10 Filter Not Enemy Lasting 40 SWIMMING_SKILL
    cooldown = {50 101}
    targetSelf = true
    range = 1
    sound = SPELL_CURE_POISON
    }
"Flood"
    {
    symbol = "ùçî"
    effect =  Name "flood" Description "conjures an water to flood area around caster" Area 1 { Chain{
                                        {Filter Area 0 FurnitureType "SHALLOW_WATER2" {PlaceFurniture "SHALLOW_WATER1" }}
                                        {Filter Area 0 FurnitureType "SHALLOW_WATER1" {PlaceFurniture "WATER"}}
                                        {Filter Area 0 Not And {FurnitureType "WATER" FurnitureType "SHALLOW_WATER1" FurnitureType "SHALLOW_WATER2"} {PlaceFurniture "SHALLOW_WATER2"}}
                                        Shove}}
    endOnly = true
    range = 0
    cooldown = {25 50}
    sound = SPELL_BLAST
    }
"Advanced Flood"
    {
    upgrade = "Flood"
    symbol = "ùçî"
    effect =  Name "flood" Description "conjures an water to flood area around caster" Area 2 { Chain{
                                        {Filter Area 0 FurnitureType "SHALLOW_WATER2" {PlaceFurniture "SHALLOW_WATER1" }}
                                        {Filter Area 0 FurnitureType "SHALLOW_WATER1" {PlaceFurniture "WATER"}}
                                        {Filter Area 0 Not And {FurnitureType "WATER" FurnitureType "SHALLOW_WATER1" FurnitureType "SHALLOW_WATER2"} {PlaceFurniture "SHALLOW_WATER2"}}
                                        Shove}}
    endOnly = true
    range = 0
    cooldown = {25 50}
    sound = SPELL_BLAST
    }
"Expert Flood"
    {
    upgrade = "Flood"
    symbol = "ùçî"
    effect =  Name "flood" Description "conjures an water to flood area around caster" Area 3 { Chain{
                                        {Filter Area 0 FurnitureType "SHALLOW_WATER2" {PlaceFurniture "SHALLOW_WATER1" }}
                                        {Filter Area 0 FurnitureType "SHALLOW_WATER1" {PlaceFurniture "WATER"}}
                                        {Filter Area 0 Not And {FurnitureType "WATER" FurnitureType "SHALLOW_WATER1" FurnitureType "SHALLOW_WATER2"} {PlaceFurniture "SHALLOW_WATER2"}}
                                        Shove}}
    endOnly = true
    range = 0
    cooldown = {25 50}
    sound = SPELL_BLAST
    }
"drowning chant"
    {
    symbol = "‚•á"
    effect = Lasting 30 DROWNING
    cooldown = {50 101}
    targetSelf = true
    range = 6
    sound = SPELL_CURE_POISON
    }
OneTimeAbility("water resistance self", "Becomes able to breathe in water.", Permanent SWIMMING_SKILL, "üéØ")


# enchantment
"advanced panic"
    {
    upgrade = "panic"
    symbol = "üò±"
    effect = Lasting PANIC
    range = 10
    cooldown = {25 51}
    sound = SPELL_STR_BONUS
    }
"mass panic"
    {
    upgrade = "advanced panic"
    symbol = "üò±"
    effect = Name "mass invisibility" Area 10 Filter Enemy Lasting 40 PANIC
    cooldown = {30 81}
    sound = SPELL_DEX_BONUS
    }
"advanced pacify"
    {
    upgrade = "pacify"
    symbol = "‚òÆ"
    effect = Name "pacify" Lasting PEACEFULNESS
    range = 4
    cooldown = {20 61}
    endOnly = true
    sound = SPELL_STR_BONUS
    }
"mass pacify"
    {
    upgrade = "advanced pacify"
    symbol = "‚òÆ"
    effect = Name "mass pacify" Area 10 Filter Enemy Lasting 40 PEACEFULNESS
    cooldown = {30 81}
    sound = SPELL_DEX_BONUS
    }
"mass blindness"
    {
    upgrade = "blindness"
    symbol = "‚òÆ"
    effect = Name "mass blindness" Area 10 Filter Enemy Lasting 5 BLIND
    cooldown = {10 21}
    sound = SPELL_DEX_BONUS
    }
"mass slow"
    {
    upgrade = "slow"
    symbol = "üê¢"
    effect = Name "mass invisibility" Area 10 Filter Enemy Lasting 40 SLOWED
    cooldown = {30 61}
    sound = SPELL_DEX_BONUS
    }


# air spells
"air bolt"
    {
    symbol = "‚•á"
    effect = MinDistanceFromStrongEnemy(2) Name "wind blast" Description "Shoots a wind blast"
    Chain {
        { Caster Lasting 0 "DAMAGE_SPELL"}
        TryMagicAttack(SPELL_DAMAGE, SPELL, 0, true, "are hit by the bolt", "is hit by the bolt")
        Chain {Shove}}
    fx = {MAGIC_MISSILE}
    range = 2
    cooldown = {2 12}
    sound = SPELL_BLAST
    }
"advanced air bolt"
    {
    upgrade = "air bolt"
    symbol = "‚•á"
    effect = MinDistanceFromStrongEnemy(2) Name "wind blast" Description "Shoots a wind blast"
    Chain {
        { Caster Lasting 0 "DAMAGE_SPELL"}
        TryMagicAttack(SPELL_DAMAGE, SPELL, 0, true, "are hit by the bolt", "is hit by the bolt")
        Chain {Shove Shove}}
    fx = {MAGIC_MISSILE}
    range = 4
    cooldown = {2 12}
    sound = SPELL_BLAST
    }
"expert air bolt"
    {
    upgrade = "advanced air bolt"
    symbol = "‚•á"
    effect = MinDistanceFromStrongEnemy(2) Name "wind blast" Description "Shoots a wind blast"
    Chain {
        { Caster Lasting 0 "DAMAGE_SPELL"}
        TryMagicAttack(SPELL_DAMAGE, SPELL, 0, true, "are hit by the bolt", "is hit by the bolt")
        Chain {Shove Shove}}
    fx = {MAGIC_MISSILE}
    range = 6
    cooldown = {2 12}
    sound = SPELL_BLAST
    }
"air flying"
    {
    symbol = "X"
    effect = Name "flying" Lasting 40 FLYING
    cooldown = {50 101}
    sound = SPELL_CURE_POISON
    }
"advanced air flying"
    {
    upgrade = "air flying"
    symbol = "X"
    effect = Name "lightning resistance" Lasting 40 FLYING
    cooldown = {50 101}
    targetSelf = true
    range = 1
    sound = SPELL_CURE_POISON
    }
"mass air flying"
    {
    upgrade = "advanced air flying"
    symbol = "X"
    effect = Name "lightning resistance" Area 10 Filter Not Enemy Lasting 40 FLYING
    cooldown = {50 101}
    targetSelf = true
    range = 1
    sound = SPELL_CURE_POISON
    }
"air strong wind"
    {
    symbol = "‚úàÔ∏è"
    effect = Name "strong wind" Escape {2}
    cooldown = {50 101}
    range = 5
    sound = SPELL_TELEPORT
    }
"advanced air strong wind"
    {
    upgrade = "air strong wind"
    symbol = "‚úàÔ∏è"
    effect = Name "strong wind" Escape {}
    cooldown = {50 101}
    range = 5
    sound = SPELL_TELEPORT
    }
OneTimeAbility("air flying self", "Becomes flying.", Permanent FLYING, "üéØ")


# demonology
"summon succubus ME"
    {
    symbol = "üëæ"
    effect = Name "succubus" Summon "SUCCUBUS" { 1 2 } 100
    cooldown = {30 81}
    sound = SPELL_SUMMON_SPIRIT
    }
"summon lesser demon"
    {
    symbol = "üëæ"
    effect = Name "lesser demon" Summon "LESSER_DEMON" { 1 2 } 100
    cooldown = {30 81}
    sound = SPELL_SUMMON_SPIRIT
    }
"summon greater demon"
    {
    symbol = "üëæ"
    effect = Name "greater demon" Summon "GREATER_DEMON" { 1 2 } 100
    cooldown = {30 81}
    sound = SPELL_SUMMON_SPIRIT
    }
"summon hellish horde"
    {
    symbol = "üëæ"
    effect = Name "hellish horde" Chain {
                    Summon "SUCCUBUS" { 3 4 } 50
                    Summon "LESSER_DEMON" { 2 3 } 50
                    Summon "GREATER_DEMON" { 1 2 } 50
                    }
    cooldown = {150 300}
    sound = SPELL_SUMMON_SPIRIT
    }


# angeology
"summon galeam"
    {
    symbol = "üëæ"
    effect = Name "galeam" Summon "GALEAM" { 1 2 } 100
    cooldown = {30 81}
    sound = SPELL_SUMMON_SPIRIT
    }
"summon cherub"
    {
  symbol = "üëæ"
  effect = Name "cherub" Summon "CHERUB" { 1 2 } 100
  cooldown = {30 81}
  sound = SPELL_SUMMON_SPIRIT
    }
"summon angel"
    {
    symbol = "üëæ"
    effect = Name "angel" Summon "ANGEL" { 1 2 } 100
    cooldown = {30 81}
    sound = SPELL_SUMMON_SPIRIT
    }
"summon angelic host"
    {
    symbol = "üëæ"
    effect = Name "angelic host" Chain {
                    Summon "CHERUB" { 3 4 } 50
                    Summon "GALEAM" { 2 3 } 50
                    Summon "ANGEL" { 1 2 } 50
                    }
    cooldown = {150 300}
    sound = SPELL_SUMMON_SPIRIT
    }

#martial
"throw sand" 
 {
   symbol = "‚ñ≥"
   range = 4
   effect = Name "throw sand" ChooseRandom { Lasting BLIND FixedDamage DAMAGE 1 CUT }
   cooldown = 10
   sound = SHOOT_BOW
   message = "throws sand!" "throws sand!"
 }
"decapitate"
 {
   symbol = "üë±"
   range = 1
   effect = Name "decapitate" { LoseBodyPart HEAD Lasting 20 BLEEDING }
   cooldown = 200
   sound = BLADE_DAMAGE
 }
"leg strike"
 {
   symbol = "üëû"
   range = 1
   effect = Name "leg strike" { LoseBodyPart LEG Lasting 20 BLEEDING }
   cooldown = 50
   sound = BLADE_DAMAGE
 }
"arm strike"
 {
   symbol = "‚úã"
   range = 1
   effect = Name "arm strike" { LoseBodyPart ARM Lasting 20 BLEEDING }
   cooldown = 50
   sound = BLADE_DAMAGE
 }
"vitals strike" 
 {
   symbol = "üó°"
   range = 1
   effect = Name "vitals strike" Description "has a chance to deal high damage, moderate damage, low damage, or cause blindness" ChooseRandom { Lasting BLIND FixedDamage DAMAGE 20 STAB FixedDamage DAMAGE 60 STAB FixedDamage DAMAGE 180 STAB }
   cooldown = 80
   sound = BLADE_DAMAGE
   message = "go for vitals!" "goes for vitals!"
 }
"advanced vitals strike" 
 {
   symbol = "üó°"
   upgrade = "vitals strike"
   range = 1
   effect = Name "advanced vitals strike" Description "has a chance to deal insane damage, moderately high damage, or cause blindness" ChooseRandom { Lasting BLIND FixedDamage DAMAGE 80 STAB FixedDamage DAMAGE 200 STAB }
   cooldown = 70
   sound = BLADE_DAMAGE
   message = "go for vitals!" "goes for vitals!"
 }
"expert vitals strike" 
 {
   symbol = "üó°"
   upgrade = "advanced vitals strike"
   range = 1
   effect = Name "expert vitals strike" Description "has a chance to deal insane damage, high damage, or cause blindness" ChooseRandom { Lasting BLIND FixedDamage DAMAGE 100 STAB FixedDamage DAMAGE 250 STAB }
   cooldown = 60
   sound = BLADE_DAMAGE
   message = "go for vitals!" "goes for vitals!"
 }
"mystic whip"
 {
  symbol = "‚Ñí"
  effect = Name "mithril whip" Description "Causes magical damage" { Damage SPELL_DAMAGE SPELL }
  fx = {BALROGS_WHIP ColorId LIGHT_BLUE}
  range = 4
  cooldown = 2
  endOnly = true
  message = "lash your whip!" "lashes their whip!"
 }
